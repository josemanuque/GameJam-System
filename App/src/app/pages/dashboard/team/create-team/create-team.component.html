<app-sidenav></app-sidenav>

<mat-sidenav-container>
  <mat-sidenav-content>
    <div class="content mat-elevation-z4" #contentContainer>
      <div class="custom-container">

        <div class="row">
          <div class="col-md-12 mx-auto d-flex justify-content-center align-self-center">
            <h1>Create Team</h1>
          </div>
        </div>
          <form [formGroup]="form">
            <div class="row d-flex justify-content-center">
                <div class="row d-flex justify-content-center">
                    <mat-form-field>
                        <mat-label>Name</mat-label>
                        <input matInput formControlName="name">
                      </mat-form-field>
                </div>
                <div class="row d-flex justify-content-center">
                    <mat-form-field>
                        <mat-label>Description</mat-label>
                        <input matInput formControlName="description">
                      </mat-form-field>
                </div>
                

                <div class="row d-flex justify-content-center">
                    <mat-form-field>
                        <mat-label>Search Users</mat-label>
                        <input matInput [formControl]="searchControl">
                      </mat-form-field>
                </div>
                <div class="row d-flex justify-content-center">
                    <mat-form-field>
                        <mat-label>Select Team Members</mat-label>
                        <mat-select formControlName="members">
                          @for (username of usernames; track username) {
                            <mat-option [value]="username.username" (click)="selectMember(username)">{{username.username}}</mat-option>
                            }
                        </mat-select>
                      </mat-form-field>
                </div>

                
                  
                 

            </div>
            <div class="row d-flex justify-content-center">
                @for (user of selectedMembers; track user) {
                    <mat-card class="example-card">
                        <mat-card-header>
                          <mat-card-title class="d-flex justify-content-center">{{user.username}}</mat-card-title>
                          <mat-card-subtitle class="d-flex justify-content-center">{{user.email}}</mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-content>
                        </mat-card-content>
                    </mat-card>
                }
    
              </div>
            <div class="row d-flex justify-content-center">
                <button mat-flat-button class="btn btn-primary submit-button" mat-raised-button color="primary" (click)="submitForm()">Create Team</button>
            </div>
            <div class="row d-flex justify-content-center">
              <button style="width: 15%;" mat-flat-button class="btn btn-primary submit-button" mat-raised-button color="primary" (click)="goToViewTeam()">Go Back</button>
          </div>
        </form>

      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>